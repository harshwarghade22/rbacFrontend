<app-navbar></app-navbar>

<div class="users-container">
  <!-- Header Section -->
  <div class="header-section">
    <div class="header-content">
      <div>
        <h1 class="page-title">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
            <circle cx="9" cy="7" r="4" />
            <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
            <path d="M16 3.13a4 4 0 0 1 0 7.75" />
          </svg>
          Users Management
        </h1>
        <p class="page-subtitle">View and manage all system users</p>
      </div>
      <div class="header-stats">
        <div class="stat-card">
          <div class="stat-value">{{ users.length }}</div>
          <div class="stat-label">Total Users</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">{{ filteredUsers.length }}</div>
          <div class="stat-label">{{ searchQuery ? 'Search Results' : 'Active' }}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Search Section -->
  <div class="search-section">
    <div class="search-wrapper">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8" />
        <path d="m21 21-4.35-4.35" />
      </svg>
      <input type="text" [(ngModel)]="searchQuery" placeholder="Search users by name or email..." class="search-input" />
    </div>
  </div>

  <!-- Loading State -->
  <div class="loading-container" *ngIf="loading">
    <div class="spinner"></div>
    <p>Loading users...</p>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="!loading && filteredUsers.length === 0">
    <div class="empty-icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
        <circle cx="8.5" cy="7" r="4" />
        <path d="M20.8 8.2l2.5 2.5" />
        <path d="M20.8 14.2l2.5-2.5" />
      </svg>
    </div>
    <h3>{{ searchQuery ? 'No results found' : 'No Users Found' }}</h3>
    <p>{{ searchQuery ? 'Try adjusting your search keywords.' : 'Start by creating a new user or administrator account.' }}</p>
  </div>

  <!-- Users Table -->
  <div class="table-wrapper" *ngIf="!loading && filteredUsers.length > 0">
    <table class="users-table">
      <thead>
        <tr>
          <th>
            <div class="th-content">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                <circle cx="12" cy="7" r="4" />
              </svg>
              User
            </div>
          </th>
          <th>
            <div class="th-content">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="4" width="20" height="16" rx="2" />
                <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" />
              </svg>
              Email
            </div>
          </th>
          <th>
            <div class="th-content">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
              </svg>
              ID
            </div>
          </th>
          
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of filteredUsers | slice:0:10" class="user-row">
          <td class="name-cell">
            <div class="user-avatar">{{ (user.name || 'U')[0].toUpperCase() }}</div>
            <span class="user-name">{{ user.name || 'N/A' }}</span>
          </td>
          <td class="email-cell">
            <span class="email-badge">{{ user.email || 'N/A' }}</span>
          </td>
          <td class="id-cell">
            <span class="id-badge">{{ user.id }}</span>
          </td>
          
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination Info -->
  <div class="pagination-info" *ngIf="!loading && filteredUsers.length > 0">
    <p>Showing {{ filteredUsers.length }} of {{ users.length }} users</p>
  </div>
</div>

